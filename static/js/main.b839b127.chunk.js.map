{"version":3,"sources":["services/firebase.js","context/UserContext.js","components/Header/Header.js","components/Footer/Footer.js","components/LandingPage/LandingPage.js","components/Shop/Item/Item.js","components/Shop/ItemList/ItemList.js","components/User/Login/Login.js","components/User/Register/Register.js","components/User/Profile/Profile.js","components/Shop/Details/Details.js","components/User/Cart/Cart.js","App.js","reportWebVitals.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","UserContext","React","createContext","Header","user","useContext","className","to","alt","src","displayName","Footer","LandingPage","Item","item","id","title","price","imageUrl","ItemList","params","useState","products","setProducts","useEffect","firestore","collection","get","then","data","arr","forEach","doc","info","push","map","product","Login","onSubmit","e","preventDefault","email","target","value","password","auth","signInWithEmailAndPassword","htmlFor","type","name","placeholder","Register","updateUserDisplayNameOnRegister","createUserWithEmailAndPassword","currentUser","updateProfile","set","cart","orders","Profile","Details","match","userCart","setUserCart","setItem","productId","description","onClick","newCart","slice","indexIfExisting","findIndex","prod","qty","Cart","total","setTotal","totalPrice","clearCart","subOrAdd","action","index","old","splice","length","Number","toFixed","date","Date","currDate","toISOString","currTime","newOrder","newOrders","PATH","App","setUser","newUser","setNewUser","onAuthStateChanged","Provider","path","exact","component","render","props","signOut","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b839b127.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\n\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\n\r\nconst firebaseConfig = {\r\n   apiKey: \"AIzaSyAXlhk_tqZeTzWvWFhbWWjHpx1RjElaEEk\",\r\n   authDomain: \"angular-exam-bea50.firebaseapp.com\",\r\n   projectId: \"angular-exam-bea50\",\r\n   storageBucket: \"angular-exam-bea50.appspot.com\",\r\n   messagingSenderId: \"356341360116\",\r\n   appId: \"1:356341360116:web:f62528b7b03b85f94a05a1\",\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport default firebase\r\n","import React from 'react'\r\n\r\nconst UserContext = React.createContext();\r\n\r\nexport default UserContext","import { Link } from \"react-router-dom\";\r\nimport \"./Header.scss\";\r\nimport UserContext from '../../context/UserContext';\r\nimport { useContext } from 'react'\r\n\r\nfunction Header() {\r\n   \r\n   const user = useContext(UserContext);\r\n\r\n   return (\r\n      <header className=\"header\">\r\n         <nav className=\"nav\">\r\n            <ul>\r\n               <li>\r\n                  <Link to=\"/softuni-react-exam/shop\">Shop</Link>\r\n               </li>\r\n               <li>\r\n                  <Link to=\"/softuni-react-exam\">About us</Link>\r\n               </li>\r\n            </ul>\r\n\r\n            <Link className=\"img\" to=\"/softuni-react-exam\">\r\n               <img alt=\"site-logo\" src=\"/softuni-react-exam/images.png\" />\r\n            </Link>\r\n\r\n            {(() => {\r\n               if (!user) {\r\n                  return (\r\n                     <ul>\r\n                        <li>\r\n                           <Link to=\"/softuni-react-exam/login\">Login</Link>\r\n                        </li>\r\n                        <li>\r\n                           <Link to=\"/softuni-react-exam/register\">Register</Link>\r\n                        </li>\r\n                     </ul>\r\n                  );\r\n               } else {\r\n                  return (\r\n                     <ul>\r\n                        <li>\r\n                           <Link to=\"/softuni-react-exam/profile\">Profile</Link>\r\n                        </li>\r\n                        <li>\r\n                           <Link to=\"/softuni-react-exam/logout\">Logout</Link>\r\n                        </li>\r\n                     </ul>\r\n                  );\r\n               }\r\n            })()}\r\n         </nav>\r\n         <h3>Welcome, {!user ? \"Guest :)\" : user.displayName}</h3>\r\n         {user ? <h3 className=\"cart\"><Link className=\"cart-a\" to='/softuni-react-exam/cart'>Shopping Cart</Link></h3> : ''}\r\n         \r\n      </header>\r\n   );\r\n}\r\n\r\nexport default Header;\r\n","import \"./Footer.scss\";\r\n\r\nfunction Footer() {\r\n   return (\r\n      <footer className=\"footer\">\r\n         <p>Simple e-commerce app to serve as an exam breaker @ Softuni Bulgaria... and all hail React :)</p>\r\n      </footer>\r\n   );\r\n}\r\n\r\nexport default Footer;\r\n","import './LandingPage.scss'\r\n\r\nfunction LandingPage() {\r\n    return (\r\n        <h1>LandingPage here</h1>\r\n    )\r\n}\r\n\r\nexport default LandingPage","import \"./Item.scss\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Item({ item, id }) {\r\n   return (\r\n      <section className=\"shop-item\">\r\n         <Link to={`/softuni-react-exam/details/${id}`}>\r\n            <h2>{item.title}</h2>\r\n            <h4>{item.price}$</h4>\r\n            <img alt=\"\" src={item.imageUrl}></img>\r\n         </Link>\r\n      </section>\r\n   );\r\n}\r\n\r\nexport default Item;\r\n","import \"./ItemList.scss\";\r\nimport firebase from \"../../../services/firebase\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Item from '../Item/Item'\r\n\r\nfunction ItemList(params) {\r\n   const [products, setProducts] = useState([]);\r\n\r\n   useEffect(() => {\r\n      firebase\r\n         .firestore()\r\n         .collection(\"products\")\r\n         .get()\r\n         .then((data) => {\r\n            let arr = [];\r\n            data.forEach((doc) => {\r\n                let info = doc.data();               \r\n               arr.push({\r\n                   id: doc.id,\r\n                   info: info\r\n               });\r\n            });\r\n            setProducts(arr);\r\n         });\r\n   }, []);\r\n\r\n   return (\r\n      <section className=\"shop-list\">\r\n         {products.map(product => {\r\n             return <Item key={product.id} id={product.id} item={product.info} />\r\n         })}\r\n      </section>\r\n   );\r\n}\r\n\r\nexport default ItemList;\r\n","import \"./Login.scss\";\r\nimport firebase from \"../../../services/firebase\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\nimport UserContext from '../../../context/UserContext';\r\nimport { useContext } from 'react'\r\n\r\nfunction Login() {\r\n\r\n   const user = useContext(UserContext);\r\n\r\n   const onSubmit = (e) => {\r\n      e.preventDefault();\r\n\r\n      let email = e.target.email.value;\r\n      let password = e.target.password.value;\r\n\r\n      firebase\r\n         .auth()\r\n         .signInWithEmailAndPassword(email, password)\r\n   };\r\n\r\n   if (user) {\r\n      return <Redirect to=\"/softuni-react-exam\" />;\r\n   } else {\r\n      return (\r\n         <section className=\"login-page\">\r\n            <form onSubmit={onSubmit}>\r\n               <fieldset>\r\n                  <legend>Login Form</legend>\r\n                  <section className=\"field\">\r\n                     <label htmlFor=\"email\">Email</label>\r\n                     <span className=\"input\">\r\n                        <i className=\"icon-envelope\"></i>\r\n                        <input type=\"text\" name=\"email\" id=\"email\" placeholder=\"email\"></input>\r\n                     </span>\r\n                  </section>\r\n                  <section className=\"field\">\r\n                     <label htmlFor=\"password\">Password</label>\r\n                     <span className=\"input\">\r\n                        <i className=\"icon-key\"></i>\r\n                        <input type=\"text\" name=\"password\" id=\"password\" placeholder=\"password\"></input>\r\n                     </span>\r\n                  </section>\r\n                  <input className=\"button submit\" type=\"submit\" value=\"Login\"></input>\r\n               </fieldset>\r\n            </form>\r\n            <Link to=\"/softuni-react-exam/register\"><p>You don't have an account ? Click here to Register</p></Link>\r\n         </section>\r\n      );\r\n   }\r\n}\r\n\r\nexport default Login;\r\n","import \"./Register.scss\";\r\nimport firebase from \"../../../services/firebase\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\nimport UserContext from \"../../../context/UserContext\";\r\nimport { useContext } from \"react\";\r\n\r\nfunction Register({ updateUserDisplayNameOnRegister }) {\r\n   const user = useContext(UserContext);\r\n\r\n   const onSubmit = (e) => {\r\n      e.preventDefault();\r\n\r\n      let email = e.target.email.value;\r\n      let password = e.target.password.value;\r\n      let name = e.target.name.value;\r\n\r\n      firebase\r\n         .auth()\r\n         .createUserWithEmailAndPassword(email, password)\r\n         .then(() => {\r\n            let currUser = firebase.auth().currentUser;\r\n\r\n            currUser\r\n               .updateProfile({\r\n                  displayName: name,\r\n               })\r\n               .then(() => {\r\n                  updateUserDisplayNameOnRegister(true);\r\n                  firebase.firestore().collection(\"cart\").doc(email).set({ cart: [] });\r\n                  firebase.firestore().collection(\"orders\").doc(email).set({ orders: [] });\r\n               });\r\n         });\r\n   };\r\n\r\n   if (user) {\r\n      return <Redirect to=\"/softuni-react-exam\" />;\r\n   } else {\r\n      return (\r\n         <section className=\"register-page\">\r\n            <form onSubmit={onSubmit}>\r\n               <fieldset>\r\n                  <legend>Register Form</legend>\r\n                  <section className=\"field\">\r\n                     <label htmlFor=\"name\">Name</label>\r\n                     <span className=\"input\">\r\n                        <i className=\"icon-user\"></i>\r\n                        <input type=\"text\" name=\"name\" id=\"name\" placeholder=\"Name\"></input>\r\n                     </span>\r\n                  </section>\r\n                  <section className=\"field\">\r\n                     <label htmlFor=\"email\">Email</label>\r\n                     <span className=\"input\">\r\n                        <i className=\"icon-envelope\"></i>\r\n                        <input type=\"text\" name=\"email\" id=\"email\" placeholder=\"email\"></input>\r\n                     </span>\r\n                  </section>\r\n                  <section className=\"field\">\r\n                     <label htmlFor=\"password\">Password</label>\r\n                     <span className=\"input\">\r\n                        <i className=\"icon-key\"></i>\r\n                        <input type=\"text\" name=\"password\" id=\"password\" placeholder=\"password\"></input>\r\n                     </span>\r\n                  </section>\r\n                  <section className=\"field\">\r\n                     <label htmlFor=\"repeat\">Repeat password</label>\r\n                     <span className=\"input\">\r\n                        <i className=\"icon-key\"></i>\r\n                        <input type=\"text\" name=\"repeat\" id=\"repeat\" placeholder=\"repeat password\"></input>\r\n                     </span>\r\n                  </section>\r\n                  <input className=\"button submit\" type=\"submit\" value=\"Register\"></input>\r\n               </fieldset>\r\n            </form>\r\n            <Link to=\"/softuni-react-exam/login\"><p>You already have an account ? Click here to Login</p></Link>\r\n         </section>\r\n      );\r\n   }\r\n}\r\n\r\nexport default Register;\r\n","import './Profile.scss'\r\n\r\nfunction Profile() {\r\n    return (\r\n        <h1>Profile here</h1>\r\n    )\r\n}\r\n\r\nexport default Profile","import \"./Details.scss\";\r\nimport firebase from \"../../../services/firebase\";\r\nimport { useState, useEffect, useContext } from \"react\";\r\nimport UserContext from \"../../../context/UserContext\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Details({ match, userCart, setUserCart }) {\r\n   const user = useContext(UserContext);\r\n   const [item, setItem] = useState({});\r\n\r\n   const productId = match?.params.id;\r\n\r\n   useEffect(() => {\r\n      firebase\r\n         .firestore()\r\n         .collection(\"products\")\r\n         .doc(productId)\r\n         .get()\r\n         .then((doc) => setItem(doc.data()));\r\n   }, [productId]);\r\n\r\n   const addToCart = () => {\r\n      let newCart = userCart.slice();\r\n      let indexIfExisting = newCart.findIndex((prod) => prod.id === productId);\r\n\r\n      if (indexIfExisting >= 0) {\r\n         newCart[indexIfExisting].qty++;\r\n      } else {\r\n         item.id = productId;\r\n         item.qty = 1;\r\n         newCart.push(item);\r\n      }\r\n      setUserCart(newCart);\r\n      firebase.firestore().collection(\"cart\").doc(user.email).set({ cart: newCart });\r\n   };\r\n\r\n   return (\r\n      <section className=\"details\">\r\n         <h1>{item.title}</h1>\r\n         <img alt=\"product\" src={item.imageUrl}></img>\r\n         <p>{item.description}</p>\r\n         {user ? (\r\n            <button onClick={addToCart}>Add to cart</button>\r\n         ) : (\r\n            <Link to=\"/softuni-react-exam/login\">\r\n               <button>Login to buy</button>\r\n            </Link>\r\n         )}\r\n      </section>\r\n   );\r\n}\r\n\r\nexport default Details;\r\n","import \"./Cart.scss\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { useState, useEffect, useContext } from \"react\";\r\nimport UserContext from \"../../../context/UserContext\";\r\nimport firebase from \"../../../services/firebase\";\r\n\r\nfunction Cart({ userCart, setUserCart }) {\r\n   const user = useContext(UserContext);\r\n\r\n   const [total, setTotal] = useState(0);\r\n\r\n   useEffect(() => {\r\n      let totalPrice = 0;\r\n      userCart?.forEach((item) => {\r\n         totalPrice += +item.price * +item.qty;\r\n      });\r\n      setTotal(totalPrice);\r\n   }, [userCart]);\r\n\r\n   const clearCart = () => {\r\n      setUserCart([]);\r\n      firebase.firestore().collection(\"cart\").doc(user.email).set({ cart: [] });\r\n   };\r\n\r\n   const placeOrder = () => {\r\n      let date = new Date();\r\n      let currDate = date.toISOString().slice(0, 10);\r\n      let currTime = date.toISOString().slice(11, 19);\r\n      let newOrder = {\r\n         total: total.toFixed(2),\r\n         date: `On ${currDate} at ${currTime}`,\r\n         products: userCart,\r\n      };\r\n\r\n      firebase\r\n         .firestore()\r\n         .collection(\"orders\")\r\n         .doc(user.email)\r\n         .get()\r\n         .then((orders) => {\r\n            let oldOrders = orders.data();\r\n            let newOrders = oldOrders.orders;\r\n            newOrders.push(newOrder);\r\n\r\n            firebase.firestore().collection(\"orders\").doc(user.email).set({ orders: newOrders });\r\n            clearCart();\r\n         });\r\n   };\r\n\r\n   const subOrAdd = (id, action) => {\r\n      let newCart = userCart.slice();\r\n      let index = newCart.findIndex((prod) => prod.id === id);\r\n\r\n      if (action === \"sub\") {\r\n         newCart[index].qty--;\r\n         setTotal((old) => (old -= +newCart[index].price));\r\n\r\n         if (newCart[index].qty === 0) {\r\n            newCart.splice(index, 1);\r\n         }\r\n      } else {\r\n         newCart[index].qty++;\r\n         setTotal((old) => (old += +newCart[index].price));\r\n      }\r\n\r\n      setUserCart(newCart);\r\n      firebase.firestore().collection(\"cart\").doc(user.email).set({ cart: newCart });\r\n   };\r\n\r\n   if (!user) {\r\n      return <Redirect to=\"/softuni-react-exam/login\"/>\r\n   } else if (userCart?.length === 0) {\r\n      return (\r\n         <section className=\"shop-cart\">\r\n            <h1>You cart is empty</h1>;\r\n         </section>\r\n      );\r\n   } else {\r\n      return (\r\n         <section className=\"shop-cart\">\r\n            <h1>Check out your cart below</h1>\r\n            <table>\r\n               <thead>\r\n                  <tr>\r\n                     <th>Title</th>\r\n                     <th>Price</th>\r\n                     <th>Quantity</th>\r\n                     <th>Total</th>\r\n                  </tr>\r\n               </thead>\r\n               <tbody>\r\n                  {userCart?.map((item) => {\r\n                     return (\r\n                        <tr key={item.id}>\r\n                           <td>\r\n                              <Link to={`/softuni-react-exam/details/${item.id}`}>{item.title}</Link>\r\n                           </td>\r\n                           <td>{Number(item.price).toFixed(2)}$</td>\r\n                           <td>\r\n                              <span onClick={() => subOrAdd(item.id, \"sub\")} className=\"qty\">\r\n                                 -\r\n                              </span>\r\n                              {item.qty}\r\n                              <span onClick={() => subOrAdd(item.id, \"add\")} className=\"qty\">\r\n                                 +\r\n                              </span>\r\n                           </td>\r\n                           <td>{(Number(item.price) * Number(item.qty)).toFixed(2)}$</td>\r\n                        </tr>\r\n                     );\r\n                  })}\r\n               </tbody>\r\n               <tfoot>\r\n                  <tr>\r\n                     <td>------</td>\r\n                     <td>------</td>\r\n                     <td>------</td>\r\n                     <th>{total.toFixed(2)}$</th>\r\n                  </tr>\r\n               </tfoot>\r\n            </table>\r\n            <section className=\"actions\">\r\n               <button onClick={clearCart}>Clear Cart</button>\r\n               <button onClick={placeOrder}>Order Now</button>\r\n            </section>\r\n         </section>\r\n      );\r\n   }\r\n}\r\n\r\nexport default Cart;\r\n","import { Route, Switch, Redirect } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\n\nimport firebase from \"./services/firebase\";\n\nimport UserContext from \"./context/UserContext\";\n\nimport \"./App.scss\";\nimport Header from \"./components/Header/Header\";\nimport Footer from \"./components/Footer/Footer\";\nimport LandingPage from \"./components/LandingPage/LandingPage\";\nimport ItemList from \"./components/Shop/ItemList/ItemList\";\nimport Login from \"./components/User/Login/Login\";\nimport Register from \"./components/User/Register/Register\";\nimport Profile from \"./components/User/Profile/Profile\";\nimport Details from \"./components/Shop/Details/Details\";\nimport Cart from \"./components/User/Cart/Cart\";\n\nconst PATH = \"/softuni-react-exam\";\n\nfunction App() {\n   const [user, setUser] = useState({});\n   const [newUser, setNewUser] = useState(false);\n   const [userCart, setUserCart] = useState([]);\n\n   useEffect(() => {\n      firebase.auth().onAuthStateChanged(setUser);\n   }, [newUser]);\n\n   useEffect(() => {\n      if (!user) return\n      firebase\n         .firestore()\n         .collection(\"cart\")\n         .doc(user.email)\n         .get()\n         .then((doc) => {\n            let data = doc.data();\n            setUserCart(data?.cart);\n         });\n   }, [user]);\n\n   return (\n      <UserContext.Provider value={user}>\n         <div className=\"App\">\n            <Header />\n            <main>\n               <Switch>\n                  <Route path={PATH} exact component={LandingPage} />\n\n                  <Route path={`${PATH}/shop`} exact component={ItemList} />\n\n                  <Route path={`${PATH}/details/:id`} exact render={(props) => {\n                     return <Details {...props} userCart={userCart} setUserCart={setUserCart} ></Details>\n                  }}/>\n                     \n                  <Route path={`${PATH}/login`} exact component={Login} />\n\n                  <Route path={`${PATH}/register`} exact>\n                     <Register updateUserDisplayNameOnRegister={setNewUser} />\n                  </Route>\n\n                  <Route path={`${PATH}/cart`} exact>\n                     <Cart setUserCart={setUserCart} userCart={userCart}></Cart>\n                  </Route>\n\n                  <Route path={`${PATH}/profile`} exact component={Profile} />\n\n                  <Route\n                     path={`${PATH}/logout`}\n                     exact\n                     render={() => {\n                        firebase.auth().signOut();\n                        return <Redirect to={PATH} />;\n                     }}\n                  />\n               </Switch>\n            </main>\n\n            <Footer />\n         </div>\n      </UserContext.Provider>\n   );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n   <React.StrictMode>\n      <Router>\n         <App />\n      </Router>\n   </React.StrictMode>,\n   document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}