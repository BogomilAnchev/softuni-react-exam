{"version":3,"sources":["services/firebase.js","context/UserContext.js","components/Header/Header.js","components/Footer/Footer.js","components/AboutUs/AboutUs.js","components/Shop/Item/Item.js","components/Shop/ItemList/ItemList.js","components/User/Login/Login.js","components/User/Register/Register.js","components/User/Profile/Profile.js","components/Shop/Details/Details.js","components/User/Cart/DisplayCart.js","components/User/Cart/Cart.js","components/Admin/CreateEditProduct.js","components/Admin/Admin.js","App.js","reportWebVitals.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","UserContext","React","createContext","Header","user","useContext","className","to","alt","src","displayName","Footer","LandingPage","Item","isAdmin","item","id","title","price","imageUrl","ItemList","useState","products","setProducts","useEffect","firestore","collection","get","then","data","arr","forEach","doc","info","push","delayedSearch","useMemo","_","debounce","val","filteredProducts","filter","x","toLowerCase","includes","search","onKeyUp","e","target","value","type","placeholder","map","product","Login","error","setError","onSubmit","preventDefault","email","password","auth","signInWithEmailAndPassword","catch","err","code","console","log","htmlFor","name","Register","updateUserDisplayNameOnRegister","errors","setErrors","length","repeat","errs","isValidEmail","test","createUserWithEmailAndPassword","currentUser","updateProfile","set","cart","orders","message","Profile","setOrders","order","i","date","Number","total","toFixed","qty","Details","history","match","userCart","setUserCart","setItem","productId","params","description","onClick","delete","newCart","slice","indexIfExisting","findIndex","prod","DisplayCart","subOrAdd","placeOrder","clearCart","Cart","setTotal","totalPrice","action","index","old","splice","Date","currDate","toISOString","currTime","newOrder","newOrders","CreateEditProduct","doEdit","checkIsUrlValid","isNaN","add","update","defaultValue","rows","cols","Admin","PATH","App","setUser","newUser","setNewUser","onAuthStateChanged","Provider","path","exact","component","AboutUs","render","props","signOut","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.003a6940.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\n\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\n\r\nconst firebaseConfig = {\r\n   apiKey: \"AIzaSyAXlhk_tqZeTzWvWFhbWWjHpx1RjElaEEk\",\r\n   authDomain: \"angular-exam-bea50.firebaseapp.com\",\r\n   projectId: \"angular-exam-bea50\",\r\n   storageBucket: \"angular-exam-bea50.appspot.com\",\r\n   messagingSenderId: \"356341360116\",\r\n   appId: \"1:356341360116:web:f62528b7b03b85f94a05a1\",\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport default firebase\r\n","import React from 'react'\r\n\r\nconst UserContext = React.createContext();\r\n\r\nexport default UserContext","import { Link } from \"react-router-dom\";\r\nimport \"./Header.scss\";\r\nimport UserContext from '../../context/UserContext';\r\nimport { useContext } from 'react'\r\n\r\nfunction Header() {\r\n   \r\n   const user = useContext(UserContext);\r\n\r\n   return (\r\n      <header className=\"header\">\r\n         <nav className=\"nav\">\r\n            <ul>\r\n               <li>\r\n                  <Link to=\"/softuni-react-exam/shop\">Shop</Link>\r\n               </li>\r\n               <li>\r\n                  <Link to=\"/softuni-react-exam\">About us</Link>\r\n               </li>\r\n            </ul>\r\n\r\n            <Link className=\"img\" to=\"/softuni-react-exam\">\r\n               <img alt=\"site-logo\" src=\"/softuni-react-exam/images.png\" />\r\n            </Link>\r\n\r\n            {(() => {\r\n               if (!user) {\r\n                  return (\r\n                     <ul>\r\n                        <li>\r\n                           <Link to=\"/softuni-react-exam/login\">Login</Link>\r\n                        </li>\r\n                        <li>\r\n                           <Link to=\"/softuni-react-exam/register\">Register</Link>\r\n                        </li>\r\n                     </ul>\r\n                  );\r\n               } else {\r\n                  return (\r\n                     <ul>\r\n                        <li>\r\n                           <Link to=\"/softuni-react-exam/profile\">Profile</Link>\r\n                        </li>\r\n                        <li>\r\n                           <Link to=\"/softuni-react-exam/logout\">Logout</Link>\r\n                        </li>\r\n                     </ul>\r\n                  );\r\n               }\r\n            })()}\r\n         </nav>\r\n         <h3>Welcome, {!user ? \"Guest :)\" : user.displayName}</h3>\r\n         {user ? <h3 className=\"cart\"><Link className=\"cart-a\" to='/softuni-react-exam/cart'>Shopping Cart</Link></h3> : ''}\r\n         \r\n      </header>\r\n   );\r\n}\r\n\r\nexport default Header;\r\n","import \"./Footer.scss\";\r\n\r\nfunction Footer() {\r\n   return (\r\n      <footer className=\"footer\">\r\n         <p>Simple e-commerce app to serve as an exam breaker @ Softuni Bulgaria... and all hail React :)</p>\r\n      </footer>\r\n   );\r\n}\r\n\r\nexport default Footer;\r\n","import './AboutUs.scss'\r\n\r\nfunction LandingPage() {\r\n    return (\r\n        <h1>About Us here</h1>\r\n    )\r\n}\r\n\r\nexport default LandingPage","import \"./Item.scss\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Item({ isAdmin, item, id }) {\r\n   return (\r\n      <section className=\"shop-item\">\r\n         <Link to={`/softuni-react-exam/details/${id}/${isAdmin}`}>\r\n            <h2>{item.title}</h2>\r\n            <h4>{item.price}$</h4>\r\n            <img alt=\"\" src={item.imageUrl}></img>\r\n         </Link>\r\n      </section>\r\n   );\r\n}\r\n\r\nexport default Item;\r\n","import \"./ItemList.scss\";\r\nimport firebase from \"../../../services/firebase\";\r\nimport { useState, useEffect, useMemo } from \"react\";\r\nimport Item from \"../Item/Item\";\r\nimport _ from 'lodash'\r\n\r\nfunction ItemList({ isAdmin }) {\r\n   const [products, setProducts] = useState([]);\r\n\r\n   useEffect(() => {\r\n      firebase\r\n         .firestore()\r\n         .collection(\"products\")\r\n         .get()\r\n         .then((data) => {\r\n            let arr = [];\r\n            data.forEach((doc) => {\r\n               let info = doc.data();\r\n               arr.push({\r\n                  id: doc.id,\r\n                  info: info,\r\n               });\r\n            });\r\n            setProducts(arr);\r\n         });\r\n   }, []);\r\n\r\n   const search = (val) => {\r\n      firebase\r\n         .firestore()\r\n         .collection(\"products\")\r\n         .get()\r\n         .then((data) => {\r\n            let arr = [];\r\n            data.forEach((doc) => {\r\n               let info = doc.data();\r\n               arr.push({\r\n                  id: doc.id,\r\n                  info: info,\r\n               });\r\n            });\r\n            let filteredProducts = arr.filter((x) => {\r\n               return x.info.title.toLowerCase().includes(val.toLowerCase());\r\n            });\r\n            setProducts(filteredProducts);\r\n         });\r\n   };\r\n\r\n   const delayedSearch = useMemo(() => _.debounce(val => search(val), 600), [])\r\n\r\n   const onChange = e => {     \r\n      delayedSearch(e.target.value);\r\n    };\r\n\r\n   \r\n\r\n   return (\r\n      <section className=\"shop-section\">\r\n         <input onKeyUp={onChange} type=\"text\" placeholder=\"Search\"></input>\r\n         <article className=\"shop-section-list\">\r\n            {products.map((product) => {\r\n               return <Item isAdmin={isAdmin} key={product.id} id={product.id} item={product.info} />;\r\n            })}\r\n         </article>\r\n      </section>\r\n   );\r\n}\r\n\r\nexport default ItemList;\r\n","import \"./Login.scss\";\r\nimport firebase from \"../../../services/firebase\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\nimport UserContext from \"../../../context/UserContext\";\r\nimport { useContext, useState } from \"react\";\r\n\r\nfunction Login() {\r\n   const user = useContext(UserContext);\r\n   const [error, setError] = useState();\r\n\r\n   const onSubmit = (e) => {\r\n      e.preventDefault();\r\n\r\n      let email = e.target.email.value;\r\n      let password = e.target.password.value;\r\n\r\n      firebase\r\n         .auth()\r\n         .signInWithEmailAndPassword(email, password)\r\n         .catch((err) => {\r\n            if (err.code === \"auth/user-not-found\") setError(\"There is no account corresponding to this email\");\r\n            if (err.code === \"auth/wrong-password\") setError(\"Wrong password\");\r\n            console.log(err);\r\n         });\r\n   };\r\n\r\n   if (user) {\r\n      return <Redirect to=\"/softuni-react-exam/shop\" />;\r\n   } else {\r\n      return (\r\n         <section className=\"login-page\">\r\n            <article>\r\n               <p className=\"err\">{error}</p>\r\n            </article>\r\n            <form onSubmit={onSubmit}>\r\n               <fieldset>\r\n                  <legend>Login Form</legend>\r\n                  <section className=\"field\">\r\n                     <label htmlFor=\"email\">Email</label>\r\n                     <span className=\"input\">\r\n                        <i className=\"icon-envelope\"></i>\r\n                        <input type=\"text\" name=\"email\" id=\"email\" placeholder=\"email\"></input>\r\n                     </span>\r\n                  </section>\r\n                  <section className=\"field\">\r\n                     <label htmlFor=\"password\">Password</label>\r\n                     <span className=\"input\">\r\n                        <i className=\"icon-key\"></i>\r\n                        <input type=\"text\" name=\"password\" id=\"password\" placeholder=\"password\"></input>\r\n                     </span>\r\n                  </section>\r\n                  <input className=\"button submit\" type=\"submit\" value=\"Login\"></input>\r\n               </fieldset>\r\n            </form>\r\n            <Link to=\"/softuni-react-exam/register\">\r\n               <p>You don't have an account ? Click here to Register</p>\r\n            </Link>\r\n         </section>\r\n      );\r\n   }\r\n}\r\n\r\nexport default Login;\r\n","import \"./Register.scss\";\r\nimport firebase from \"../../../services/firebase\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\nimport UserContext from \"../../../context/UserContext\";\r\nimport { useContext, useState } from \"react\";\r\n\r\nfunction Register({ updateUserDisplayNameOnRegister }) {\r\n   const user = useContext(UserContext);\r\n   const [errors, setErrors] = useState([]);\r\n\r\n   const onSubmit = (e) => {\r\n      e.preventDefault();\r\n\r\n      let name = e.target.name.value;\r\n      let email = e.target.email.value;\r\n      let password = e.target.password.value;\r\n      let repeat = e.target.repeat.value;\r\n\r\n      let errs = [];\r\n      let isValidEmail = /^[a-zA-Z0-9.-]{4,}@\\w+\\.com$/.test(email);\r\n\r\n      if (name.length < 6) errs.push(\"Your name should be at least 6 chars long!\");\r\n      if (password.length < 6) errs.push(\"Your password should be at least 6 chars long!\");\r\n      if (repeat !== password) errs.push(\"Password and Repeat password should match!\");\r\n      if (!isValidEmail) errs.push(\"Your email should be a valid .com email\");\r\n\r\n      setErrors(errs);\r\n\r\n      if (errs.length > 0) {\r\n         return;\r\n      }\r\n\r\n      firebase\r\n         .auth()\r\n         .createUserWithEmailAndPassword(email, password)\r\n         .then(() => {\r\n            let currUser = firebase.auth().currentUser;\r\n\r\n            currUser\r\n               .updateProfile({\r\n                  displayName: name,\r\n               })\r\n               .then(() => {\r\n                  updateUserDisplayNameOnRegister(true);\r\n                  firebase.firestore().collection(\"cart\").doc(email).set({ cart: [] });\r\n                  firebase.firestore().collection(\"orders\").doc(email).set({ orders: [] });\r\n               });\r\n         })\r\n         .catch((err) => {\r\n            setErrors([err.message]);\r\n         });\r\n   };\r\n\r\n   if (user) {\r\n      return <Redirect to=\"/softuni-react-exam/shop\" />;\r\n   } else {\r\n      return (\r\n         <section className=\"register-page\">\r\n            {errors.length < 1 ? (\r\n               \"\"\r\n            ) : (\r\n               <article>\r\n                  {errors?.map((err) => {\r\n                     return <p className=\"err\" key={err}>{err}</p>;\r\n                  })}\r\n               </article>\r\n            )}\r\n\r\n            <form onSubmit={onSubmit}>\r\n               <fieldset>\r\n                  <legend>Register Form</legend>\r\n                  <section className=\"field\">\r\n                     <label htmlFor=\"name\">Name</label>\r\n                     <span className=\"input\">\r\n                        <i className=\"icon-user\"></i>\r\n                        <input type=\"text\" name=\"name\" id=\"name\" placeholder=\"Name\"></input>\r\n                     </span>\r\n                  </section>\r\n                  <section className=\"field\">\r\n                     <label htmlFor=\"email\">Email</label>\r\n                     <span className=\"input\">\r\n                        <i className=\"icon-envelope\"></i>\r\n                        <input type=\"text\" name=\"email\" id=\"email\" placeholder=\"email\"></input>\r\n                     </span>\r\n                  </section>\r\n                  <section className=\"field\">\r\n                     <label htmlFor=\"password\">Password</label>\r\n                     <span className=\"input\">\r\n                        <i className=\"icon-key\"></i>\r\n                        <input type=\"text\" name=\"password\" id=\"password\" placeholder=\"password\"></input>\r\n                     </span>\r\n                  </section>\r\n                  <section className=\"field\">\r\n                     <label htmlFor=\"repeat\">Repeat password</label>\r\n                     <span className=\"input\">\r\n                        <i className=\"icon-key\"></i>\r\n                        <input type=\"text\" name=\"repeat\" id=\"repeat\" placeholder=\"repeat password\"></input>\r\n                     </span>\r\n                  </section>\r\n                  <input className=\"button submit\" type=\"submit\" value=\"Register\"></input>\r\n               </fieldset>\r\n            </form>\r\n            <Link to=\"/softuni-react-exam/login\">\r\n               <p>You already have an account ? Click here to Login</p>\r\n            </Link>\r\n         </section>\r\n      );\r\n   }\r\n}\r\n\r\nexport default Register;\r\n","import \"./Profile.scss\";\r\nimport { useState, useEffect, useContext } from \"react\";\r\nimport UserContext from \"../../../context/UserContext\";\r\nimport firebase from \"../../../services/firebase\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nfunction Profile() {\r\n   const [orders, setOrders] = useState([]);\r\n\r\n   const user = useContext(UserContext);\r\n\r\n   useEffect(() => {\r\n      if (!user) return;\r\n      firebase\r\n         .firestore()\r\n         .collection(\"orders\")\r\n         .doc(user.email)\r\n         .get()\r\n         .then((doc) => {\r\n            let data = doc.data();\r\n            setOrders(data?.orders);\r\n         });\r\n   }, [user]);\r\n\r\n   if (!user) {\r\n       return (\r\n           <Redirect to=\"/softuni-react-exam\" />\r\n       )\r\n   } else {\r\n      return (\r\n         <section className=\"profile\">\r\n            <h1>Check out your profile info and orders below</h1>\r\n            <h3>You email: {user.email}</h3>\r\n            <h3>Your name: {user.displayName}</h3>\r\n            {orders.length === 0 ? <h3>You haven't placed any orders yet</h3> : ''}\r\n            {orders?.map((order, i) => {\r\n               return (\r\n                  <div key={order.date} className=\"order\">\r\n                     <h4>\r\n                        Order No{i + 1} placed on {order.date}, Total amount: {Number(order.total).toFixed(2)}$\r\n                     </h4>\r\n                     <table>\r\n                        <thead>\r\n                           <tr>\r\n                              <th>Title</th>\r\n                              <th>Price</th>\r\n                              <th>Quantity</th>\r\n                              <th>Total</th>\r\n                           </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                           {order.products.map((product) => {\r\n                              return (\r\n                                 <tr key={product.id}>\r\n                                    <td>{product.title}</td>\r\n                                    <td>{product.price}$</td>\r\n                                    <td>{product.qty}</td>\r\n                                    <td>{(Number(product.price) * Number(product.qty)).toFixed(2)}$</td>\r\n                                 </tr>\r\n                              );\r\n                           })}\r\n                        </tbody>\r\n                        <tfoot>\r\n                           <tr>\r\n                              <td>------</td>\r\n                              <td>------</td>\r\n                              <td>------</td>\r\n                              <th>{order.total}$</th>\r\n                           </tr>\r\n                        </tfoot>\r\n                     </table>\r\n                  </div>\r\n               );\r\n            })}\r\n         </section>\r\n      );\r\n   }\r\n}\r\n\r\nexport default Profile;\r\n","import \"./Details.scss\";\r\nimport firebase from \"../../../services/firebase\";\r\nimport { useState, useEffect, useContext } from \"react\";\r\nimport UserContext from \"../../../context/UserContext\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Details({ history, match, userCart, setUserCart }) {\r\n   const user = useContext(UserContext);\r\n   const [item, setItem] = useState({});\r\n\r\n   const productId = match?.params.id;\r\n   const isAdmin = match?.params.isAdmin;\r\n\r\n   useEffect(() => {\r\n      firebase\r\n         .firestore()\r\n         .collection(\"products\")\r\n         .doc(productId)\r\n         .get()\r\n         .then((doc) => setItem(doc.data()));\r\n   }, [productId]);\r\n\r\n   const addToCart = () => {\r\n      let newCart = userCart.slice();\r\n      let indexIfExisting = newCart.findIndex((prod) => prod.id === productId);\r\n\r\n      if (indexIfExisting >= 0) {\r\n         newCart[indexIfExisting].qty++;\r\n      } else {\r\n         item.id = productId;\r\n         item.qty = 1;\r\n         newCart.push(item);\r\n      }\r\n      setUserCart(newCart);\r\n      firebase\r\n         .firestore()\r\n         .collection(\"cart\")\r\n         .doc(user.email)\r\n         .set({ cart: newCart })\r\n         .then(() => {\r\n            history.push(\"/softuni-react-exam/cart\");\r\n         });\r\n   };\r\n\r\n   const deleteProduct = () => {\r\n      firebase.firestore().doc('products/' + productId).delete();\r\n      history.push('/softuni-react-exam/admin')\r\n   }\r\n\r\n   if (user && isAdmin === \"true\") {\r\n      return (\r\n         <section className=\"details\">\r\n            <h1>{item.title}</h1>\r\n            <img alt=\"product\" src={item.imageUrl}></img>\r\n            <p>{item.description}</p>\r\n            <article>\r\n               <button onClick={deleteProduct}>Delete</button>\r\n               <Link to={`/softuni-react-exam/admin/edit/${productId}`} >\r\n                  <button>Edit</button>\r\n               </Link>\r\n            </article>\r\n         </section>\r\n      );\r\n   } else {\r\n      return (\r\n         <section className=\"details\">\r\n            <h1>{item.title}</h1>\r\n            <img alt=\"product\" src={item.imageUrl}></img>\r\n            <p>{item.description}</p>\r\n            {user ? (\r\n               <button onClick={addToCart}>Add to cart</button>\r\n            ) : (\r\n               <Link to=\"/softuni-react-exam/login\">\r\n                  <button>Login to buy</button>\r\n               </Link>\r\n            )}\r\n         </section>\r\n      );\r\n   }\r\n}\r\n\r\nexport default Details;\r\n","import { useContext } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport UserContext from \"../../../context/UserContext\";\r\nimport \"./DisplayCart.scss\";\r\n\r\nfunction DisplayCart({ total, userCart, subOrAdd, placeOrder, clearCart }) {\r\n   const user = useContext(UserContext);\r\n\r\n   if (!user) {\r\n      return <Redirect to=\"/softuni-react-exam/login\" />;\r\n   } else if (userCart?.length === 0) {\r\n      return (\r\n         <section className=\"shop-cart\">\r\n            <h1>You cart is empty</h1>\r\n         </section>\r\n      );\r\n   } else {\r\n      return (\r\n         <section className=\"shop-cart\">\r\n            <h1>Check out your cart below</h1>\r\n            <table>\r\n               <thead>\r\n                  <tr>\r\n                     <th>Title</th>\r\n                     <th>Price</th>\r\n                     <th>Quantity</th>\r\n                     <th>Total</th>\r\n                  </tr>\r\n               </thead>\r\n               <tbody>\r\n                  {userCart?.map((item) => {\r\n                     return (\r\n                        <tr key={item.id}>\r\n                           <td>\r\n                              <Link to={`/softuni-react-exam/details/${item.id}`}>{item.title}</Link>\r\n                           </td>\r\n                           <td>{Number(item.price).toFixed(2)}$</td>\r\n                           <td>\r\n                              <span onClick={() => subOrAdd(item.id, \"sub\")} className=\"qty\">\r\n                                 -\r\n                              </span>\r\n                              {item.qty}\r\n                              <span onClick={() => subOrAdd(item.id, \"add\")} className=\"qty\">\r\n                                 +\r\n                              </span>\r\n                           </td>\r\n                           <td>{(Number(item.price) * Number(item.qty)).toFixed(2)}$</td>\r\n                        </tr>\r\n                     );\r\n                  })}\r\n               </tbody>\r\n               <tfoot>\r\n                  <tr>\r\n                     <td>------</td>\r\n                     <td>------</td>\r\n                     <td>------</td>\r\n                     <th>{total.toFixed(2)}$</th>\r\n                  </tr>\r\n               </tfoot>\r\n            </table>\r\n            <section className=\"actions\">\r\n               <button onClick={clearCart}>Clear Cart</button>\r\n               <button onClick={placeOrder}>Order Now</button>\r\n            </section>\r\n         </section>\r\n      );\r\n   }\r\n}\r\n\r\nexport default DisplayCart;\r\n","import { useState, useEffect, useContext } from \"react\";\r\nimport UserContext from \"../../../context/UserContext\";\r\nimport firebase from \"../../../services/firebase\";\r\nimport DisplayCart from \"./DisplayCart\";\r\n\r\nfunction Cart({ history, userCart, setUserCart }) {\r\n   const user = useContext(UserContext);\r\n\r\n   const [total, setTotal] = useState(0);\r\n\r\n   useEffect(() => {\r\n      let totalPrice = 0;\r\n      userCart?.forEach((item) => {\r\n         totalPrice += +item.price * +item.qty;\r\n      });\r\n      setTotal(totalPrice);\r\n   }, [userCart]);\r\n\r\n   const clearCart = () => {\r\n      setUserCart([]);\r\n      firebase.firestore().collection(\"cart\").doc(user.email).set({ cart: [] });\r\n   };\r\n\r\n   const placeOrder = () => {\r\n      let date = new Date();\r\n      let currDate = date.toISOString().slice(0, 10);\r\n      let currTime = date.toISOString().slice(11, 19);\r\n      let newOrder = {\r\n         total: total.toFixed(2),\r\n         date: `On ${currDate} at ${currTime}`,\r\n         products: userCart,\r\n      };\r\n\r\n      firebase\r\n         .firestore()\r\n         .collection(\"orders\")\r\n         .doc(user.email)\r\n         .get()\r\n         .then((orders) => {\r\n            let oldOrders = orders.data();\r\n            let newOrders = oldOrders.orders;\r\n            newOrders.push(newOrder);\r\n\r\n            firebase.firestore().collection(\"orders\").doc(user.email).set({ orders: newOrders });\r\n            clearCart();\r\n            history.push('/softuni-react-exam/profile')\r\n         });\r\n   };\r\n\r\n   const subOrAdd = (id, action) => {\r\n      let newCart = userCart.slice();\r\n      let index = newCart.findIndex((prod) => prod.id === id);\r\n\r\n      if (action === \"sub\") {\r\n         newCart[index].qty--;\r\n         setTotal((old) => (old -= +newCart[index]?.price));\r\n\r\n         if (newCart[index].qty === 0) {\r\n            newCart.splice(index, 1);\r\n         }\r\n      } else {\r\n         newCart[index].qty++;\r\n         setTotal((old) => (old += +newCart[index].price));\r\n      }\r\n\r\n      setUserCart(newCart);\r\n      firebase.firestore().collection(\"cart\").doc(user.email).set({ cart: newCart });\r\n   };\r\n\r\n   return (\r\n      <section>\r\n         <DisplayCart total={total} userCart={userCart} subOrAdd={subOrAdd} placeOrder={placeOrder} clearCart={clearCart}></DisplayCart>\r\n      </section>\r\n   );\r\n}\r\n\r\nexport default Cart;\r\n","import \"./CreateEditProduct.scss\";\r\nimport firebase from \"../../services/firebase\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nfunction CreateEditProduct({ match, history, doEdit }) {\r\n   const [item, setItem] = useState({});\r\n   const [errors, setErrors] = useState([]);\r\n\r\n   let productId = match?.params.id;\r\n\r\n   useEffect(() => {\r\n      firebase\r\n         .firestore()\r\n         .collection(\"products\")\r\n         .doc(productId)\r\n         .get()\r\n         .then((doc) => {\r\n            setItem(doc?.data());\r\n         });\r\n   }, [productId]);\r\n\r\n   const onSubmit = (e) => {\r\n      e.preventDefault();\r\n\r\n      let title = e.target.title.value;\r\n      let price = e.target.price.value;\r\n      let imageUrl = e.target.imageUrl.value;\r\n      let description = e.target.description.value;\r\n\r\n      let errs = [];\r\n      let checkIsUrlValid = /https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/.test(imageUrl);\r\n\r\n      if (title.length > 20) errs.push(\"Title shouldn't be longer than 20 chars!\");\r\n      if (isNaN(price) === true) errs.push(\"Price should be a valid number!\");\r\n      if (!checkIsUrlValid) errs.push(\"Image url should be a valid Url!\");\r\n      if (description.length < 50) errs.push(\"Description should be at least 50 chars long!\")\r\n\r\n      setErrors(errs);\r\n\r\n      if (errs.length > 0) {\r\n         return;\r\n      }\r\n\r\n      let product = {\r\n         title,\r\n         price,\r\n         imageUrl,\r\n         description,\r\n      };\r\n\r\n      if (doEdit === \"false\") {\r\n         firebase.firestore().collection(\"products\").add(product);\r\n         history.push(\"/softuni-react-exam\");\r\n      } else {\r\n         firebase\r\n            .firestore()\r\n            .doc(\"products/\" + productId)\r\n            .update(product);\r\n         history.push(\"/softuni-react-exam/admin\");\r\n      }\r\n   };\r\n\r\n   return (\r\n      <section className=\"create-form\">\r\n         {errors.length < 1 ? (\r\n            \"\"\r\n         ) : (\r\n            <article>\r\n               {errors?.map((err) => {\r\n                  return (\r\n                     <p className=\"err\" key={err}>\r\n                        {err}\r\n                     </p>\r\n                  );\r\n               })}\r\n            </article>\r\n         )}\r\n         <form onSubmit={onSubmit}>\r\n            <fieldset>\r\n               {doEdit === \"false\" ? <legend>Create new product</legend> : <legend>Edit {item?.title}</legend>}\r\n               <section className=\"field\">\r\n                  <label htmlFor=\"title\">Title</label>\r\n                  <span className=\"input\">\r\n                     <input type=\"text\" name=\"title\" id=\"title\" placeholder=\"Title\" defaultValue={item?.title ? item.title : \"\"}></input>\r\n                  </span>\r\n               </section>\r\n               <section className=\"field\">\r\n                  <label htmlFor=\"price\">Price</label>\r\n                  <span className=\"input\">\r\n                     <input type=\"text\" name=\"price\" id=\"price\" placeholder=\"Price\" defaultValue={item?.price ? item.price : \"\"}></input>\r\n                  </span>\r\n               </section>\r\n               <section className=\"field\">\r\n                  <label htmlFor=\"imageUrl\">Image URL</label>\r\n                  <span className=\"input\">\r\n                     <input\r\n                        type=\"text\"\r\n                        name=\"imageUrl\"\r\n                        id=\"imageUrl\"\r\n                        placeholder=\"Image URL\"\r\n                        defaultValue={item?.imageUrl ? item.imageUrl : \"\"}\r\n                     ></input>\r\n                  </span>\r\n               </section>\r\n               <section className=\"field\">\r\n                  <label htmlFor=\"description\">Description</label>\r\n                  <span className=\"input\">\r\n                     <textarea\r\n                        name=\"description\"\r\n                        id=\"description\"\r\n                        rows=\"5\"\r\n                        cols=\"70\"\r\n                        defaultValue={item?.description ? item.description : \"\"}\r\n                        placeholder=\"Description\"\r\n                     ></textarea>\r\n                  </span>\r\n               </section>\r\n               <input className=\"button submit\" type=\"submit\" value={doEdit === \"false\" ? \"Create new product\" : \"Edit product\"}></input>\r\n            </fieldset>\r\n         </form>\r\n      </section>\r\n   );\r\n}\r\n\r\nexport default CreateEditProduct;\r\n","import \"./Admin.scss\";\r\nimport UserContext from \"../../context/UserContext\";\r\nimport { useContext } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport CreateEditProduct from \"./CreateEditProduct\";\r\nimport ItemList from \"../Shop/ItemList/ItemList\";\r\n\r\nfunction Admin({ history }) {\r\n   const user = useContext(UserContext);\r\n\r\n   if (!user) {\r\n      return <Redirect to=\"/softuni-react-exam/login\" />;\r\n   } else {\r\n      return (\r\n         <section className=\"admin\">\r\n            <CreateEditProduct history={history} doEdit=\"false\" />\r\n            <h2>Edit and Delete products</h2>\r\n            <ItemList isAdmin=\"true\" />\r\n         </section>\r\n      );\r\n   }\r\n}\r\n\r\nexport default Admin;\r\n","import { Route, Switch, Redirect } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\n\nimport firebase from \"./services/firebase\";\n\nimport UserContext from \"./context/UserContext\";\n\nimport \"./App.scss\";\nimport Header from \"./components/Header/Header\";\nimport Footer from \"./components/Footer/Footer\";\nimport AboutUs from \"./components/AboutUs/AboutUs\";\nimport ItemList from \"./components/Shop/ItemList/ItemList\";\nimport Login from \"./components/User/Login/Login\";\nimport Register from \"./components/User/Register/Register\";\nimport Profile from \"./components/User/Profile/Profile\";\nimport Details from \"./components/Shop/Details/Details\";\nimport Cart from \"./components/User/Cart/Cart\";\nimport Admin from \"./components/Admin/Admin\";\nimport CreateEditProduct from \"./components/Admin/CreateEditProduct\";\n\nconst PATH = \"/softuni-react-exam\";\n\nfunction App() {\n   const [user, setUser] = useState({});\n   const [newUser, setNewUser] = useState(false);\n   const [userCart, setUserCart] = useState([]);\n\n   useEffect(() => {\n      firebase.auth().onAuthStateChanged(setUser);\n   }, [newUser]);\n\n   useEffect(() => {\n      if (!user) return;\n      firebase\n         .firestore()\n         .collection(\"cart\")\n         .doc(user.email)\n         .get()\n         .then((doc) => {\n            let data = doc.data();\n            setUserCart(data?.cart);\n         });\n   }, [user]);\n\n   return (\n      <UserContext.Provider value={user}>\n         <div className=\"App\">\n            <Header />\n            <main>\n               <Switch>\n                  <Route path={PATH} exact component={AboutUs} />\n\n                  <Route path={`${PATH}/shop`} exact>\n                     <ItemList isAdmin=\"false\" />\n                  </Route>\n\n                  <Route\n                     path={`${PATH}/admin/edit/:id`}\n                     exact\n                     render={(props) => {\n                        return <CreateEditProduct {...props} doEdit=\"true\" />;\n                     }}\n                  />\n\n                  <Route path={`${PATH}/admin`} exact component={Admin} />\n\n                  <Route\n                     path={`${PATH}/details/:id/:isAdmin`}\n                     exact\n                     render={(props) => {\n                        return <Details {...props} userCart={userCart} setUserCart={setUserCart} />;\n                     }}\n                  />\n\n                  <Route path={`${PATH}/login`} exact component={Login} />\n\n                  <Route path={`${PATH}/register`} exact>\n                     <Register updateUserDisplayNameOnRegister={setNewUser} />\n                  </Route>\n\n                  <Route\n                     path={`${PATH}/cart`}\n                     exact\n                     render={(props) => {\n                        return <Cart {...props} setUserCart={setUserCart} userCart={userCart}></Cart>;\n                     }}\n                  />\n\n                  <Route path={`${PATH}/profile`} exact component={Profile} />\n\n                  <Route\n                     path={`${PATH}/logout`}\n                     exact\n                     render={() => {\n                        firebase.auth().signOut();\n                        return <Redirect to={PATH} />;\n                     }}\n                  />\n               </Switch>\n            </main>\n\n            <Footer />\n         </div>\n      </UserContext.Provider>\n   );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n   <React.StrictMode>\n      <Router>\n         <App />\n      </Router>\n   </React.StrictMode>,\n   document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}